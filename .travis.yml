language: generic
before_install:
  - echo 'Installing ghcup' &&
    curl https://raw.githubusercontent.com/haskell/ghcup/master/bootstrap-haskell -sSf | sh &&
    echo 'Adding ghcup to path' &&
    export PATH=$PATH:$HOME/.ghcup/bin &&
    echo 'Installing ghc' &&
    ghcup install 8.6.3 &&
    echo 'Setting default ghc' &&
    ghcup set 8.6.3
    echo 'Installing cabal' &&
    ghcup install-cabal && cabal v2-install && cabal-install && cabal v2-update
script:
  - ./test.sh
